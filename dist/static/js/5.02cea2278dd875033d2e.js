webpackJsonp([5],{"7aBH":function(t,e){},Gkd8:function(t,e){},S22z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("W6KN"),s=a("THWC"),n=a("myXI"),l=a("gyMJ"),c=a("TAej"),r={data:function(){return{petType:1,pet_name:"",pet_type:"",pet_birthday:"",avatar_url:"",noseprint_url:"",pet_sex:1,is_sterilization:1,imageUpload:n.a.imageUpload}},components:{XRadio:i.a,XRadioGroup:s.a,UploadImages:c.a},methods:{imageSuccess:function(t,e){this.avatar_url=e?e.file_url:""},imageSuccess2:function(t,e){this.noseprint_url=e?e.file_url:""},getNowFormatDate:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),e+"-"+a+"-"+i},birthdayClick:function(){var t=this;this.$picker.show({type:"datePicker",date:"2010-01-01",endTime:this.getNowFormatDate(),startTime:"1990-01-01",onOk:function(e){t.pet_birthday=e}})},addPet:function(){var t=this;Object(l.a)("/hapi/pet/add",{cat_dog:this.petType,avatar_url:this.avatar_url,noseprint_url:this.noseprint_url,pet_name:this.pet_name,pet_type:this.pet_type,pet_birthday:this.pet_birthday,pet_sex:this.pet_sex,is_sterilization:this.is_sterilization}).then(function(e){e&&t.checkOrderlies(e.pet_id)})},checkOrderlies:function(t){var e=this;Object(l.c)("api",{s:"/hapi/pet/checkOrderlies",pet_id:t}).then(function(a){a?e.$router.push({name:"guardian",query:{id:t}}):e.$router.push({name:"confirmOrder"})})}},beforeCreate:function(){document.getElementsByTagName("body")[0].className="add_bg"},beforeMount:function(){document.getElementsByTagName("body")[0].className="add_bg"},beforeDestroy:function(){document.body.removeAttribute("class")},destroy:function(){document.body.removeAttribute("class")},mounted:function(){document.getElementsByTagName("body")[0].className="add_bg"}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"public-view"},[a("div",{staticClass:"info"},[t._m(0),t._v(" "),a("div",{staticClass:"content1 typeInfo"},[a("div",{staticClass:"left"},[t._v("类型")]),t._v(" "),a("div",{staticClass:"right"},[a("XRadioGroup",{staticClass:"radioGroup",model:{value:t.petType,callback:function(e){t.petType=e},expression:"petType"}},[a("XRadio",{attrs:{name:"cat",value:"1",label:"猫"}}),t._v(" "),a("XRadio",{attrs:{name:"dog",value:"2",label:"狗"}})],1)],1)]),t._v(" "),a("div",{staticClass:"content1 headInfo"},[t._m(1),t._v(" "),a("div",{staticClass:"right"},[a("upload-images",{attrs:{url:t.imageUpload,src:t.avatar_url},on:{success:t.imageSuccess}}),t._v(" "),a("img",{staticClass:"rectangle",attrs:{src:"static/images/Rectangle-path@2x.png",alt:""}})],1)]),t._v(" "),a("div",{staticClass:"content1 headInfo"},[a("div",{staticClass:"left"},[t._v("鼻纹")]),t._v(" "),a("div",{staticClass:"right"},[a("upload-images",{attrs:{url:t.imageUpload,src:t.noseprint_url},on:{success:t.imageSuccess2}}),t._v(" "),a("img",{staticClass:"rectangle",attrs:{src:"static/images/Rectangle-path@2x.png",alt:""}})],1)]),t._v(" "),a("div",{staticClass:"content1"},[a("div",{staticClass:"left"},[t._v("昵称")]),t._v(" "),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pet_name,expression:"pet_name"}],attrs:{type:"text",placeholder:"请输入昵称"},domProps:{value:t.pet_name},on:{input:function(e){e.target.composing||(t.pet_name=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"content1"},[a("div",{staticClass:"left"},[t._v("品种")]),t._v(" "),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pet_type,expression:"pet_type"}],attrs:{type:"text",placeholder:"请输入品种"},domProps:{value:t.pet_type},on:{input:function(e){e.target.composing||(t.pet_type=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"content1"},[a("div",{staticClass:"left"},[t._v("生日")]),t._v(" "),a("div",{staticClass:"right",on:{click:function(e){return t.birthdayClick()}}},[a("span",[t._v(t._s(""==t.pet_birthday?"请选择生日":t.pet_birthday))]),t._v(" "),a("img",{staticClass:"rectangle",attrs:{src:"static/images/Rectangle-path@2x.png",alt:""}})])]),t._v(" "),a("div",{staticClass:"content1"},[a("div",{staticClass:"left"},[t._v("性别")]),t._v(" "),a("div",{staticClass:"right"},[a("XRadioGroup",{staticClass:"radioGroup",model:{value:t.pet_sex,callback:function(e){t.pet_sex=e},expression:"pet_sex"}},[a("XRadio",{attrs:{name:"cat",value:"1",label:"公"}}),t._v(" "),a("XRadio",{attrs:{name:"dog",value:"2",label:"母"}})],1)],1)]),t._v(" "),a("div",{staticClass:"content1"},[a("div",{staticClass:"left"},[t._v("是否绝育")]),t._v(" "),a("div",{staticClass:"right"},[a("XRadioGroup",{staticClass:"radioGroup",model:{value:t.is_sterilization,callback:function(e){t.is_sterilization=e},expression:"is_sterilization"}},[a("XRadio",{attrs:{name:"cat",value:"1",label:"是"}}),t._v(" "),a("XRadio",{attrs:{name:"dog",value:"2",label:"否"}})],1)],1)])]),t._v(" "),a("div",{staticClass:"next",on:{click:function(e){return t.addPet()}}},[t._v("下一步")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"left"},[this._v("宠物信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[this._v("\n          头像\n          "),e("span",{staticClass:"bright"},[this._v("查看示例")])])}]};var d=a("C7Lr")(r,o,!1,function(t){a("7aBH")},"data-v-1e57a6dc",null);e.default=d.exports},TAej:function(t,e,a){"use strict";var i=a("gyMJ"),s=a("TVG1").a.get("token"),n={props:{url:{type:String},text:{type:String},src:{type:String},index:{type:Number}},data:function(){return{info:null,image:null,myheader:{token:s,"Content-Type":"application/x-www-form-urlencoded"}}},watch:{src:function(t,e){t!==e&&(this.image=this.src)}},methods:{customUpload:function(t){var e=this;Object(i.b)(this.url,t).then(function(t){if(t){e.info=t;var a=e,i=setTimeout(function(){a.image=t.file_url,a.$emit("success",a.index,t),""!=i&&clearTimeout(i)},1e3)}else e.$message(t.msg)})},clearFiles:function(){this.info=null,this.image=null,this.$refs.image.clearFiles(),this.$emit("success",this.index,null)},handleExceed:function(t,e){this.$message("当前已选中文件")},handleSuccess:function(t,e){if(console.log(t),!t.code&&t.data){this.info=t.data;var a=this,i=setTimeout(function(){a.image=t.data.file_url,a.$emit("success",a.index,t.data),""!=i&&clearTimeout(i)},1e3)}else this.$message(t.message)},handleDelete:function(){if(this.info||this.image){if(this.info&&this.image){var t=this.info.filename.split("/");t[t.length-1]}else if(this.image&&!this.info){var e=this.image.split("/");e[e.length-1]}}}},created:function(){this.src&&(this.image=this.src)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploadbox"},[a("el-upload",{ref:"image",staticClass:"public-uploader",attrs:{"show-file-list":!1,limit:1,"on-exceed":t.handleExceed,action:t.url,"http-request":t.customUpload,"on-success":t.handleSuccess,headers:t.myheader,name:"iFile"}},[t.image?a("div",[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.image}})])]):a("i",{staticClass:"el-icon-plus public-uploader-icon"},[t._v(t._s(t.text))])]),t._v(" "),t.image?a("i",{staticClass:"delete el-icon-close",on:{click:function(e){return e.stopPropagation(),t.clearFiles(e)}}}):t._e()],1)},staticRenderFns:[]};var c=a("C7Lr")(n,l,!1,function(t){a("Gkd8")},null,null);e.a=c.exports}});