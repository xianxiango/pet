webpackJsonp([13],{"2a90":function(e,t){},"J+bJ":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("TVG1"),r=o("gyMJ"),n={data:function(){return{code:"",state:""}},methods:{wxCode:function(){var e=this;Object(r.c)("api",{s:"/hapi/Weixin/wxLogin",code:this.$route.query.code,state:this.$route.query.state}).then(function(t){if(t){e.$message.success("登录成功");var o=t;s.a.set("token",o.token,2592e6),s.a.set("user_id",o.user_id,2592e6),s.a.set("hasPhone",o.hasPhone,2592e6),e.$store.commit("SET_TOKEN",o.token),e.$store.commit("SET_USER_ID",o.user_id),e.$store.commit("SET_HAS_PHONE",o.hasPhone),e.$store.state.token?e.$router.push("/center"):e.$router.replace("/login")}})}},created:function(){this.$route.query.code&&this.wxCode()},watch:{"$route.query.code":function(){this.code=this.$route.query.code,this.state=this.$route.query.state}}},i={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var a=o("C7Lr")(n,i,!1,function(e){o("2a90")},"data-v-4b0a2120",null);t.default=a.exports}});